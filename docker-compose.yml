#
# This file should be duplicated for production to have the actual stripe key.
#
version: "3"
services:
  web:
    build: .
    environment:
      - RACK_ENV=production
      - STRIPE_KEY=sk_test_sWQeIEnLCfsMRSU4cO8qqC9Z
    volumes:
      - ./src/boba.db:/var/www/docker-sinatra/boba.db

  proxy:
    build: ./nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - certs:/etc/letsencrypt
      - certs-data:/data/letsencrypt
    restart: always

volumes:
  certs:
  certs-data:
